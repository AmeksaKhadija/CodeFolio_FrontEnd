{"ast":null,"code":"import axios from 'axios';\nimport { setToken, removeToken } from '../utils/token';\nconst API_URL = 'http://localhost:4000/graphql';\nexport const login = async (email, password) => {\n  try {\n    console.debug('Auth.login -> POST', `${API_URL}/auth/login`, {\n      email\n    });\n    const response = await axios.post(`${API_URL}/auth/login`, {\n      email,\n      password\n    });\n    console.debug('Auth.login response', response.status, response.data);\n    const {\n      token,\n      user\n    } = response.data;\n    if (token) setToken(token);\n    return response.data;\n  } catch (error) {\n    console.error('Auth.login error', error.response ? error.response.data : error.message);\n    throw error;\n  }\n};\nexport const logout = () => {\n  removeToken();\n};\nexport const isAuthenticated = () => !!localStorage.getItem('token');","map":{"version":3,"names":["axios","setToken","removeToken","API_URL","login","email","password","console","debug","response","post","status","data","token","user","error","message","logout","isAuthenticated","localStorage","getItem"],"sources":["C:/Users/Youcode/Desktop/2ème annèe/codefolio-react-app/src/services/auth.js"],"sourcesContent":["import axios from 'axios';\nimport { setToken, removeToken } from '../utils/token';\n\nconst API_URL = 'http://localhost:4000/graphql';\n\nexport const login = async (email, password) => {\n    try {\n        console.debug('Auth.login -> POST', `${API_URL}/auth/login`, { email });\n        const response = await axios.post(`${API_URL}/auth/login`, { email, password });\n        console.debug('Auth.login response', response.status, response.data);\n        const { token, user } = response.data;\n        if (token) setToken(token);\n        return response.data;\n    } catch (error) {\n        console.error('Auth.login error', error.response ? error.response.data : error.message);\n        throw error;\n    }\n};\n\nexport const logout = () => {\n    removeToken();\n};\n\nexport const isAuthenticated = () => !!localStorage.getItem('token');"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,WAAW,QAAQ,gBAAgB;AAEtD,MAAMC,OAAO,GAAG,+BAA+B;AAE/C,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAC5C,IAAI;IACAC,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAE,GAAGL,OAAO,aAAa,EAAE;MAAEE;IAAM,CAAC,CAAC;IACvE,MAAMI,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGP,OAAO,aAAa,EAAE;MAAEE,KAAK;MAAEC;IAAS,CAAC,CAAC;IAC/EC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEC,QAAQ,CAACE,MAAM,EAAEF,QAAQ,CAACG,IAAI,CAAC;IACpE,MAAM;MAAEC,KAAK;MAAEC;IAAK,CAAC,GAAGL,QAAQ,CAACG,IAAI;IACrC,IAAIC,KAAK,EAAEZ,QAAQ,CAACY,KAAK,CAAC;IAC1B,OAAOJ,QAAQ,CAACG,IAAI;EACxB,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZR,OAAO,CAACQ,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAACN,QAAQ,GAAGM,KAAK,CAACN,QAAQ,CAACG,IAAI,GAAGG,KAAK,CAACC,OAAO,CAAC;IACvF,MAAMD,KAAK;EACf;AACJ,CAAC;AAED,OAAO,MAAME,MAAM,GAAGA,CAAA,KAAM;EACxBf,WAAW,CAAC,CAAC;AACjB,CAAC;AAED,OAAO,MAAMgB,eAAe,GAAGA,CAAA,KAAM,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}